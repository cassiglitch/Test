<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake Game with Enemies</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="400" height="400"></canvas>

  <script>
    // Define the Enemy module
    const Enemy = (function() {
      // Private variables and functions
      const enemies = [];
      
      // Public methods
      return {
        createEnemy: function(x, y, speed) {
          const enemy = {
            x: x,
            y: y,
            speed: speed,
            // Add any other properties you need for your enemies
          };
          enemies.push(enemy);
        },
        moveEnemies: function() {
          enemies.forEach(enemy => {
            // Implement smart enemy movement logic here
            // For example, you can make them move towards the snake or move randomly
            // For demonstration, let's move them randomly
            enemy.x += (Math.random() - 0.5) * enemy.speed;
            enemy.y += (Math.random() - 0.5) * enemy.speed;
          });
        },
        renderEnemies: function(ctx) {
          enemies.forEach(enemy => {
            // Render enemies on the canvas
            ctx.fillStyle = 'red';
            ctx.fillRect(enemy.x, enemy.y, 10, 10); // Adjust size as needed
          });
        }
      };
    })();

    // Define the main game loop
    function gameLoop() {
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');

      // Clear the canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Update and render enemies
      Enemy.moveEnemies();
      Enemy.renderEnemies(ctx);

      // Call gameLoop recursively
      requestAnimationFrame(gameLoop);
    }

    // Initialize the game
    function init() {
      // Create enemies
      Enemy.createEnemy(50, 50, 2);
      Enemy.createEnemy(200, 100, 3);
      // Add more enemies as needed

      // Start the game loop
      gameLoop();
    }

    // Start the game when the DOM content is loaded
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
