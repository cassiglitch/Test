<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Enemies Snake Game</title>
<style>
    canvas {
        border: 1px solid black;
        background-color: #f0f0f0;
        display: block;
        margin: 0 auto;
    }
</style>
</head>
<body>
<canvas id="gameCanvas" width="400" height="400"></canvas>

<script>
// Enemies module
const Enemies = (function() {
    let enemies = [];

    function createEnemy(x, y, speed) {
        return {
            x,
            y,
            speed,
            update() {
                // Implement smart behavior here
                // For example, move towards the player or avoid obstacles
                // For simplicity, let's make them move randomly
                const direction = Math.floor(Math.random() * 4);
                switch(direction) {
                    case 0: // Move up
                        this.y -= this.speed;
                        break;
                    case 1: // Move down
                        this.y += this.speed;
                        break;
                    case 2: // Move left
                        this.x -= this.speed;
                        break;
                    case 3: // Move right
                        this.x += this.speed;
                        break;
                }
            },
            draw(context) {
                context.fillStyle = 'red';
                context.fillRect(this.x, this.y, 10, 10);
            }
        };
    }

    function addEnemy(x, y, speed) {
        const enemy = createEnemy(x, y, speed);
        enemies.push(enemy);
    }

    function updateAll() {
        enemies.forEach(enemy => enemy.update());
    }

    function drawAll(context) {
        enemies.forEach(enemy => enemy.draw(context));
    }

    return {
        addEnemy,
        updateAll,
        drawAll
    };
})();

// Game module
const Game = (function() {
    let canvas, context, playerX, playerY;

    function init() {
        canvas = document.getElementById('gameCanvas');
        context = canvas.getContext('2d');

        playerX = canvas.width / 2;
        playerY = canvas.height / 2;

        // Add some enemies
        Enemies.addEnemy(50, 50, 1);
        Enemies.addEnemy(200, 100, 2);
        Enemies.addEnemy(300, 300, 1);

        // Start the game loop
        setInterval(update, 1000 / 30); // 30 frames per second
    }

    function update() {
        clearCanvas();
        Enemies.updateAll();
        Enemies.drawAll(context);

        // Draw player
        drawPlayer();
    }

    function clearCanvas() {
        context.clearRect(0, 0, canvas.width, canvas.height);
    }

    function drawPlayer() {
        context.fillStyle = 'green';
        context.fillRect(playerX, playerY, 10, 10);
    }

    return {
        init
    };
})();

// Initialize the game
Game.init();
</script>
</body>
</html>
