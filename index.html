<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Venom Symbiote Simulation</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
    }
    canvas {
        display: block;
    }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
<script>
    // Initialize Matter.js engine
    const { Engine, Render, World, Bodies, Body, Events } = Matter;
    const engine = Engine.create();
    const render = Render.create({
        element: document.body,
        engine: engine,
        options: {
            width: window.innerWidth,
            height: window.innerHeight,
            wireframes: false
        }
    });
    Render.run(render);
    const world = engine.world;

    // Define Venom symbiote entity
    const venom = Bodies.circle(400, 200, 50, {
        render: {
            sprite: {
                texture: 'venom.png'
            }
        },
        mass: 10,
        frictionAir: 0.1
    });
    World.add(world, venom);

    // Function to spawn objects for consumption
    function spawnObject(x, y) {
        const object = Bodies.rectangle(x, y, 40, 40, {
            render: {
                fillStyle: 'red'
            }
        });
        World.add(world, object);
    }

    // Event listener to spawn objects on click
    document.body.addEventListener('click', function(event) {
        spawnObject(event.clientX, event.clientY);
    });

    // Attraction and consumption behavior
    Events.on(engine, 'beforeUpdate', function(event) {
        const objects = world.bodies.filter(body => body !== venom && body.render.fillStyle === 'red');
        objects.forEach(object => {
            const forceMagnitude = 0.001 * venom.mass * object.mass / Math.pow(Body.magnitude(Body.sub(venom.position, object.position)), 2);
            Body.applyForce(object, object.position, Body.scale(Body.normalise(Body.sub(venom.position, object.position)), forceMagnitude));
            if (Body.contains(venom, object)) {
                World.remove(world, object);
                venom.mass += 0.5; // Increase Venom's mass on consumption
            }
        });
    });

    // Add physics interactions
    World.add(world, [
        Bodies.rectangle(window.innerWidth / 2, window.innerHeight + 50, window.innerWidth, 100, { isStatic: true }), // Ground
        Bodies.rectangle(window.innerWidth / 2, -50, window.innerWidth, 100, { isStatic: true }), // Ceiling
        Bodies.rectangle(-50, window.innerHeight / 2, 100, window.innerHeight, { isStatic: true }), // Left wall
        Bodies.rectangle(window.innerWidth + 50, window.innerHeight / 2, 100, window.innerHeight, { isStatic: true }) // Right wall
    ]);

    // Run the engine
    Engine.run(engine);
</script>
</body>
</html>
